function clickPercent(e){return(e.pageX-timeline.offsetLeft)/timelineWidth}function mouseDown(){onplayhead=!0,window.addEventListener("mousemove",moveplayhead,!0),music.removeEventListener("timeupdate",timeUpdate,!1)}function mouseUp(e){1==onplayhead&&(moveplayhead(e),window.removeEventListener("mousemove",moveplayhead,!0),music.currentTime=duration*clickPercent(e),music.addEventListener("timeupdate",timeUpdate,!1)),onplayhead=!1}function moveplayhead(e){var t=e.pageX-timeline.offsetLeft;t>=0&&timelineWidth>=t&&(playhead.style.marginLeft=t+"px"),0>t&&(playhead.style.marginLeft="0px"),t>timelineWidth&&(playhead.style.marginLeft=timelineWidth+"px")}function timeUpdate(){var e=timelineWidth*(music.currentTime/duration);playhead.style.marginLeft=e+"px",music.currentTime==duration&&(pButton.className="",pButton.className="episode--player_play episode--player_icon");var t=duration/60+"",i=60*Number("."+t.split(".")[1]);timeholder.innerHTML=Math.floor(music.currentTime/60)+":"+Math.floor(music.currentTime)%60+" | "+Math.floor(duration/60)+":"+Math.floor(i)}function play(){music.paused?(music.play(),pButton.className="",pButton.className="episode--player_pause episode--player_icon"):(music.pause(),pButton.className="",pButton.className="episode--player_play episode--player_icon")}if(function(e,t){var i=e.ViewSources=e.ViewSources||{};i.modals={settings:{open:".modalOpen",close:".modalClose",closeBtn:".close"},init:function(){this.settings;this.open(),this.close()},open:function(){var e=this.settings,t=document.querySelectorAll(e.open);Array.prototype.forEach.call(t,function(t){t.addEventListener("click",function(t){var i=this.dataset.modalid;document.querySelector(e.close+'[data-modalId*="'+i+'"]').classList.add("show")})})},close:function(){var e=this.settings,t=document.querySelectorAll(e.closeBtn);Array.prototype.forEach.call(t,function(e){e.addEventListener("click",function(e){this.parentNode.classList.remove("show")})})}}}(window),null!=document.querySelector("audio")){var music=document.getElementById("music"),duration,pButton=document.getElementById("pButton"),playhead=document.getElementById("playhead"),timeline=document.getElementById("timeline"),timelineWidth=timeline.offsetWidth-playhead.offsetWidth,timeholder=document.querySelector(".episode--player_time");music.addEventListener("timeupdate",timeUpdate,!1),timeline.addEventListener("click",function(e){moveplayhead(e),music.currentTime=duration*clickPercent(e)},!1),playhead.addEventListener("mousedown",mouseDown,!1),window.addEventListener("mouseup",mouseUp,!1);var onplayhead=!1;music.addEventListener("canplaythrough",function(){duration=music.duration},!1)}!function(e,t){var i=e.ViewSources=e.ViewSources||{};document.addEventListener("DOMContentLoaded",function(){i.modals.init()})}(window);